<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                                       http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.7.xsd">

    <!-- Import data into SousAnalyseMesures table -->
    <changeSet id="1" author="halima">
        <loadData
                file="classpath:/csv/sousAnalyseMesures.csv"
                separator=","
                tableName="SousAnalyseMesures">
            <column name="id" type="NUMERIC"/>
            <column name="nom" type="STRING"/>
            <column name="min" type="DOUBLE"/>
            <column name="max" type="DOUBLE"/>
            <column name="unite" type="STRING"/>
        </loadData>
    </changeSet>

    <!-- Establish the relationship between SousAnalyse and SousAnalyseMesures -->
    <changeSet id="2" author="halima">
        <addForeignKeyConstraint
                baseTableName="SousAnalyse"
                baseColumnNames="sousAnalyseMesures_id"
                constraintName="fk_sousAnalyseMesures"
                referencedTableName="SousAnalyseMesures"
                referencedColumnNames="id"
                onDelete="CASCADE"/>
    </changeSet>

</databaseChangeLog>
